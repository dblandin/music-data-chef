{
  "name": "web",
  "chef_type": "role",
  "json_class": "Chef::Role",
  "description": "HTTP Server",
  "default_attributes": {
    "app": {
        "name": "music-data"
    },
    "ruby_version": "2.0.0-p247",
    "build_essential": {
      "compiletime": true
    },
    "postgresql": {
      "password": {
        "postgres": "md50b4c3659bc426511470ba5fea03878b1"
      },
      "enable_pgdg_apt": true,
      "version":         "9.3",
      "config": {
        "log_directory": "/var/log/postgresql/pg_log",
        "listen_addresses": "0.0.0.0",
        "port": 48189,
        "ssl": "off"
      },
      "config_pgtune": {
        "db_type":         "web",
        "max_connections": "300"
      },
      "pg_hba": [
        { "type": "host", "db": "all", "user": "all", "addr": "0.0.0.0/0", "method": "md5" }
      ]
    }
  },
  "run_list": [
    "recipe[build-essential]",
    "recipe[ruby_build]",
    "recipe[main::system_ruby]",
    "recipe[nodejs]",
    "recipe[nginx]",
    "recipe[postgresql::server]",
    "recipe[postgresql::client]",
    "recipe[postgresql::config_initdb]",
    "recipe[postgresql::config_pgtune]",
    "recipe[database::postgresql]",
    "recipe[redisio::install]",
    "recipe[redisio::enable]",
    "recipe[vim]",
    "recipe[main]"
  ]
}
